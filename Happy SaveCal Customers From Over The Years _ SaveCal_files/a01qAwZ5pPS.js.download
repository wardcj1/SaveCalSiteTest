if (self.CavalryLogger) { CavalryLogger.start_js(["9z5ZR"]); }

__d("EmbeddedVideoSettingsControl.react",["ix","cx","fbt","AbstractButton.react","BanzaiODS","Image.react","React","ReactDOM","EmbeddedVideoSettingsMenu.react","VideoPlayerExperiments","asset","setImmediate","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes,n=720,o=2160;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){"use strict";l.constructor.call(this,q);this.state={isFocus:false,isFocusMenuItem:false}}p.prototype.shouldComponentUpdate=function(q,r){"use strict";return c("shallowCompare")(this,q,r)};p.prototype.onMouseOut=function(q){"use strict";c("ReactDOM").findDOMNode(this.refs.button).blur()};p.prototype.onButtonFocus=function(q){"use strict";this.setState({isFocus:true})};p.prototype.onButtonBlur=function(){"use strict";this.setState({isFocusMenuItem:false});c("setImmediate")(function(){if(!this.state.isFocusMenuItem)this.setState({isFocus:false})}.bind(this))};p.prototype.onMouseEnter=function(q){"use strict";if(!this.props.disabled&&this.refs.menu.showQualitySelector())c("BanzaiODS").bumpEntityKey("videos","quality_selector.impression")};p.prototype.getHDIndicator=function(){"use strict";__p&&__p();var q=c("VideoPlayerExperiments").showHDIndicator&&!this.props.isInline&&this.props.selectedQuality&&(this.props.selectedQuality=="HD"||parseInt(this.props.selectedQuality,10)>=n),r=null;if(q){var s=null;if(parseInt(this.props.selectedQuality,10)>=o)s="4K";else s="HD";r=c("React").createElement("span",{className:"_3i5f"},s)}return r};p.prototype.render=function(){"use strict";var q=c("React").createElement(c("Image.react"),{className:"_5i0o",src:h("391244")}),r=j._("Additional Visual Settings"),s=null;if(!this.props.disabled)s=c("React").createElement("div",{className:"_42fl"+(this.state.isFocus?" _4v4":"")},c("React").createElement(c("EmbeddedVideoSettingsMenu.react"),{areSubtitlesActive:this.props.areSubtitlesActive,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isSphericalVideo:this.props.isSphericalVideo,onBlurMenuItem:this.onButtonBlur.bind(this),onFocusMenuItem:function(){this.setState({isFocusMenuItem:true})}.bind(this),onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:this.props.tabIndex,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,ref:"menu"}));var t=this.getHDIndicator(),u="_3u33"+(this.props.disabled?" _17bp":""),v=c("React").createElement(c("AbstractButton.react"),{className:u,disabled:this.props.disabled,image:q,label:r,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onFocus:this.onButtonFocus.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"});return c("React").createElement("div",{className:"_1esn",onMouseEnter:this.onMouseEnter.bind(this)},s,v,t)};p.propTypes={disabled:m.bool,hasHD:m.bool,hasSubtitles:m.bool,isHD:m.bool,isInline:m.bool,isSphericalVideo:m.bool,areSubtitlesActive:m.bool,onToggleHD:m.func,onToggleSubtitles:m.func,tabIndex:m.string,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string};p.defaultProps={tabIndex:"-1"};f.exports=p}),null);